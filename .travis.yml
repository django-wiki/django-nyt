cache: pip

language: python

env:
  - LINT="yes"
  - DJANGO="1.11"
  - DJANGO="2.0"

matrix:
  include:
  - python: 3.4
    dist: trusty
    sudo: false
  - python: 3.5
    dist: trusty
    sudo: false
  - python: 3.6
    dist: trusty
    sudo: false
  - python: 3.7
    dist: xenial
    sudo: true
  - python: pypy
    dist: trusty
    sudo: false
  exclude:
  - python: "3.5"
    env: LINT="yes"
  - python: "3.6"
    env: LINT="yes"
  - python: "3.7"
    env: LINT="yes"

install:
  - pip install tox tox-travis coverage codecov

script:
  - tox

notifications:
    irc:
  - "irc.freenode.org#django-wiki"

after_success:
  - coverage combine
  - codecov
